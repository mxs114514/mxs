# 📅 2025.12.08 全栈第一步：从 Hello World 到前后端打通

> 🌤️ **心情/状态**：今天正式开始搞课设的基架，虽然只是个简单的 MVP（最小可行性产品），但看着前端页面成功渲染出数据库里的数据，那种“任督二脉打通”的感觉太爽了！

## 💡 今日份“顿悟”
1.  **全栈的本质是“数据流转”**：
    以前觉得后端神秘，今天自己动手才发现，后端其实就是个“数据管家”。
    *   **数据库 (SQLite)**：仓库，存东西的。
    *   **Prisma**：仓库管理员，负责存取。
    *   **Express**：前台接待，负责把东西打包成 JSON 给前端。
    *   **前端 (Vue)**：顾客，拿到 JSON 渲染成好看的界面。
    整个流程跑通后，技术栈不再是孤岛，而是一条流水线。

2.  **TypeScript 是全栈的“通用语”**：
    前后端都用 TS，类型定义甚至可以复用（虽然今天还没做共享类型）。在后端定义好 `Song` 模型，前端直接能推断出数据结构，这种开发体验比纯 JS 猜字段舒服太多了。

## 🧠 知识内化（技术栈复盘）

### 🛠️ 后端基架 (Node + Express + TS)
从零搭建了一个标准的 TS 后端项目：
1.  **环境配置**：`npm init` 起手，装 `express`、`cors`、`dotenv` 三件套。
2.  **TS 加持**：配置 `tsconfig.json`，用 `ts-node` 直接运行 TS 代码，配合 `nodemon` 实现热更新（改一行代码，服务自动重启，不用手动切终端）。
3.  **ORM 神器 (Prisma)**：
    *   不用写 SQL 语句，直接定义 `schema.prisma` 模型。
    *   `npx prisma db push` 一键同步数据库结构。
    *   写了个 `seed.ts` 脚本，一键注入测试数据，再也不用手动插数据了。

### 🔗 前后端通信 (The Bridge)
1.  **跨域 (CORS) 与 代理 (Proxy)**：
    虽然后端装了 `cors`，但在开发环境我用了 Vite 的 `server.proxy`。
    *   前端请求 `/api/songs` -> Vite 转发 -> `localhost:3000/api/songs`。
    *   这样既解决了跨域，又让前端代码看起来像是在请求同源接口。
2.  **数据消费 (Pinia)**：
    *   在 Store 里写 `fetchSongList`，拿到数据存进 `state`。
    *   配合 `pinia-plugin-persistedstate`，刷新页面数据还在，体验极佳。

## 🚀 接下来我要做什么（Action Items）
- [ ] **[完善播放器]**：现在只是展示了列表，下一步要把 `audio` 标签加上，实现真正的点击播放。
- [ ] **[后台管理]**：利用今天定义的 `User` 模型，写一个简单的登录注册，为上传歌曲做准备。
- [ ] **[类型共享]**：尝试用 Monorepo 或者简单的软链接，让前后端共用一套 TS 类型定义，避免两边重复写 `interface Song`。

## 💭 碎碎念
“整个编程世界就是一个巨大的 Hello World。”
今天从终端打印出 Hello World，到浏览器渲染出第一条数据库记录，每一步都是在向这个世界打招呼。课设项目，稳了！
