# Agent 方向学习规划 - 学习路线

最后更新：2026-01-17
返回索引：[agent方向的规划.md](./agent方向的规划.md)

---

## 学习路线

### 3. 推荐学习路线（4 周可落地版本）

#### 第 1 周：能做出一个“能用的聊天应用”
- 前端：Vite/Next.js 任一 + 流式 UI（SSE / fetch streaming）+ 会话管理
- 后端：一个轻量 API 层（Node/Serverless）封装模型调用、重试、超时、限流
- 产出：可演示的 Chat UI + 可配置 System Prompt + 基础日志

#### 第 2 周：工具调用（Function Calling）+ 受控 Agent
- 重点：把“工具”做成可测试的函数（搜索/计算/读写文件/数据库查询等），让模型只能在白名单工具里行动
- 产出：一个“任务助手”Agent（例如：生成学习计划、整理笔记、检查简历要点）+ 工具调用轨迹可视化

#### 第 3 周：RAG（知识库问答 / 文档助手）
- 重点：文档切分、向量库、召回策略、答案可追溯（引用段落/文件）、更新与删除
- 产出：个人知识库助手（支持上传 Markdown/PDF/网页抓取的简化版）

#### 第 4 周：评估与产品化（为求职加分的部分）
- 重点：建立 20-50 条用例集，做自动化评测（正确性/引用覆盖/成本/延迟），并在 UI 展示指标
- 产出：项目 README + Demo 视频脚本 + 简历项目描述（STAR）

### 附录 H：纯前端（Vue 基础）到“前端 + Agent”学习路线（12 周 / 3 个月）

> 适用人群：你这种“前端在学（Vue 更熟、React 在入门）+ 0 Agent 实战”。  
> 学习目标：3 个月内做出 1 个可上线的 PhotoCoach Agent Demo，并能在面试里讲清楚“系统怎么可控、怎么评估、怎么取舍”。  
> 学习原则：先做出闭环，再逐层加深；任何“底层概念”都必须落到项目中的一个可见功能/一次可复现的验证。

#### H0. 你需要掌握到什么程度（别吓自己）
- React/Next：能写中等复杂页面、管理状态、做上传/地图/编辑器、理解服务端路由/接口即可（不用背算法）
- Node/后端：能写 API、懂鉴权/限流/日志/重试/缓存即可（不用深入分布式）
- Agent：能做“受控工具调用 + 状态机工作流 + 可观测 + 可回归”的最小实现即可（不用搞花哨框架）

---

### H1. 12 周路线总览（每周都有可演示产物）

#### Week 1：React/Next “够用就行” + 工程基础
目标：能写页面、能请求、能上手 TS、能跑通 Next 项目。
- 产出：
  - 一个 Next.js + TypeScript + pnpm 项目（能部署到本地）
  - 1 个表单页 + 1 个列表页 + 1 个详情页（路由与数据流跑通）
- 关键点（只学必要的）：
  - React：组件、props、state、hooks（useState/useEffect/useMemo）、受控表单
  - Next：App Router、Server/Client Component 心智、环境变量
  - TS：接口类型、联合类型、可选字段（够用即可）

#### Week 2：做出“可用 UI 骨架”（为 AI 功能铺路）
目标：把你项目的核心交互做出来，不涉及 AI。
- 产出：
  - 登录/注册 UI（先不接后端也行）
  - 照片上传 UI（先做选择/预览/进度/错误）
  - 地点列表（空状态/加载态/错误态）
  - Markdown 编辑区（先用一个简单编辑器组件）
- 关键点：
  - 文件上传（分片不做也行，先把体验做顺）
  - 组件拆分与状态管理（不用上很重的库，先用 React 状态/Context）

#### Week 3：Supabase 上云（跨设备的“数据闭环”）
目标：让你的产品“真的能用”，数据不在本地。
- 产出：
  - Supabase Auth：邮箱/密码登录可用
  - Storage：照片直传 + 公开访问链接可用
  - Postgres：保存地点/照片元数据/总结文档
- 关键点：
  - 公开桶策略：公开读，但上传/删除要鉴权（否则必被刷）
  - 数据模型：地点表、照片表、总结表（先最简）

#### Week 4：地图能力（AMap）+ 地点确认工作流（无 AI 也要可用）
目标：跑通“EXIF→地点→确认→保存”的确定性链路。
- 产出：
  - EXIF 解析（抽取 GPS/时间/镜头）
  - 坐标转换（WGS84→GCJ-02）
  - 地图选点：搜索→定位→拖拽→逆地理→确认
  - 地点卡片：可编辑名称/备注并保存
- 关键点：
  - 状态机思维：无 GPS → 直接进入地图手动流程（先把兜底做稳定）

#### Week 5：LLM 接入（先做“生成 Markdown”，别急着 Agent）
目标：你先把模型调用做正确：流式、错误、重试、限流。
- 产出：
  - Next.js 服务端接口：统一转发到模型（OpenAI/Gemini/Claude 任选其一先跑通）
  - 前端流式展示：边生成边显示，可取消、可重试
  - 生成：把“地点卡片 + 照片元数据”生成 1 版旅行日志 Markdown（可编辑、可保存）
- 关键点：
  - 密钥放服务端
  - 记录 token/耗时（哪怕先写日志）

#### Week 6：工具调用 + JSON Schema（真正开始“Agent 化”）
目标：让模型“只能按你的规则输出”，并能调用你定义的工具。
- 产出：
  - schema 校验：输出不合格 → 自动修复/回退
  - 工具白名单（最小一组）：EXIF 结果读取、地点信息读取、模板渲染、保存总结
  - 轨迹记录：展示“计划→调用工具→生成结果”
- 关键点：
  - 模型只产出“结构化参数/草稿”，执行写入由服务端完成

#### Week 7：工作流状态机（把 Agent 做成产品流程）
目标：把“多步交互”做成可靠流程，而不是纯聊天。
- 产出：
  - 地点候选确认（可先用规则/简单模型提示，不必一开始就视觉识别）
  - 用户确认点：是/否 → 状态转移
  - 失败分支：地图失败、模型失败、用户信息不足的兜底
- 关键点：
  - 每一步都有输入/输出/失败分支/可回退

#### Week 8：多风格生成 + 编辑与导出（产品打磨的关键）
目标：生成内容可用、可二次加工、可分享。
- 产出：
  - 风格切换：小红书风 / 旅行日志（同一份结构化数据，两个模板）
  - Markdown 编辑与版本保存
  - 导出 .md / 分享页（公开访问）
- 关键点：
  - “生成的是初稿”：让编辑变得顺滑（这是前端核心价值）

#### Week 9：RAG（只做最小可用 + 引用）
目标：把“可信度与个性化”做出来，且可追溯。
- 产出：
  - 导入你的摄影笔记（Markdown）→ 切分 → 向量索引
  - 生成时带 citations（引用片段）并在 UI 展示
- 关键点：
  - 别塞长上下文；检索 topK 小而精 + 必须可引用

#### Week 10：评估与回归（你和大多数人拉开差距）
目标：让你“敢改、敢迭代”，不怕把系统改崩。
- 产出：
  - 用例集 ≥ 20 条（覆盖有/无 GPS、歧义地点、两种风格等）
  - 结构回归：schema 必须通过 + 关键字段必须存在 + 引用非空
  - 指标：耗时/失败率/token（最小可用）

#### Week 11：上线与运维（像真正产品）
目标：让面试官看到“你能上线并维护”。
- 产出：
  - Docker 常驻 + 1Panel 反代 + HTTPS（photo.moxiaoshuai.fun）
  - 限流与防滥用：公开读、登录写、上传大小限制
  - 监控：基础日志 + 错误告警（哪怕先用简单方式）

#### Week 12：作品集包装与面试材料（最后一公里）
目标：把你做的东西“讲得出来、证据齐全”。
- 产出：
  - README：架构图（控制器/工具层/记忆层）、关键取舍、风险边界
  - Demo 脚本：3 分钟演示（导入→确认→生成→编辑→分享→轨迹/指标）
  - 简历要点：可量化（延迟/失败率/用例数/功能闭环）

---

### H2. 每天 3-5 小时怎么分配（建议模板）

- 40%：做项目功能（产出可见 UI/接口）
- 30%：补知识（只补当下卡住的那部分）
- 20%：复盘与记录（写到本文档/README：遇到的问题、取舍、数据）
- 10%：回归测试/指标（哪怕先手动跑 5 条）

关键提醒：你最容易掉进“看懂了但没产出”的坑；所以每天必须有一个“可运行、可演示”的小成果。

---

### H3. 你现在立刻能做的 7 天入门冲刺（从 0 到“有手感”）

> 目标：让你不再“一头雾水”，而是知道 Agent 其实就是：状态机 + 工具 + 结构化输出 + 兜底。

- Day 1：Next.js 项目跑起来；做一个表单页（地点/题材/风格）+ 一个结果页（Markdown 展示）
- Day 2：做流式 UI（先用 mock 流式数据也行），实现取消/重试
- Day 3：接通 1 个模型接口（服务端转发），生成一段 Markdown（不追求完美）
- Day 4：把输出改成“外层结构化 + 内层 markdown”，并用 schema 校验
- Day 5：增加 1 个工具（例如 `render_markdown(template, data)`），让模型只输出参数
- Day 6：加 1 个确认点（例如风格/标题是否满意），让用户决定状态转移
- Day 7：写一页 README：你系统的 3 层分解 + 一次完整流程截图（非常加分）

---

### H4. Week 1 详细执行（按天 + 验收标准）

> 你已确认“直接按 12 周路线推进”。Week 1 的目标是：**React/Next 基础够用 + 项目骨架成型 + 你能持续产出**。  
> 约束：每天 3-5 小时；每天结束必须有“可运行、可演示”的结果。

#### Day 1：项目初始化 + 路由骨架
- 做什么：
  - 创建 Next.js（App Router）+ TypeScript + pnpm
  - 建 3 个页面：`/`（入口）、`/places`（地点列表）、`/places/new`（新增地点/导入）
  - 统一布局：顶部导航 + 主内容区
- 验收标准：
  - 本地能跑：`pnpm dev`
  - 3 个页面可互相跳转，刷新不丢路由
  - 页面有基础空状态（无数据时的提示）

#### Day 2：UI 组件与状态管理（先轻量）
- 做什么：
  - 选一个轻量 UI 方案（可先用 Tailwind；也可先纯 CSS，后续再换）
  - 统一表单组件：输入框/按钮/提示/Loading
  - 规范数据流：页面级 state + 少量共享 state（先用 React Context 即可）
- 验收标准：
  - 新增地点表单可输入并在页面内预览“地点草稿卡片”
  - Loading/错误提示组件可复用（至少在 2 个页面用到）

#### Day 3：数据模型草案（不接后端也要先定结构）
- 做什么：
  - 先定义 TypeScript 类型（后续会映射到数据库表）
    - `Place`：地点（名称、坐标、地址、创建者、创建时间）
    - `Photo`：照片（url、exif 摘要、关联地点）
    - `Note/Summary`：总结（风格、markdown、引用、版本）
  - 在前端用 mock 数据跑通“列表→详情→编辑”的 UI 流程
- 验收标准：
  - `/places` 能展示 mock 列表
  - 点进一个地点详情页（可临时用 `/places/[id]`）
  - 详情页能展示“照片列表区 + 总结区（占位）”

#### Day 4：上传 UI（先把体验做顺）
- 做什么：
  - 实现“选择多张照片→预览→移除→上传按钮→进度条”的组件
  - 上传先不接 Storage，先把文件读成预览 URL（本地预览）
  - 设计失败路径：文件过大/格式不支持/用户取消
- 验收标准：
  - 能选多张照片并预览
  - 能移除单张、重新选择
  - 至少 2 类错误提示可触发且可理解

#### Day 5：Markdown 编辑与预览（为“生成后可编辑”铺路）
- 做什么：
  - 加入 Markdown 编辑器/预览（先简化：textarea + 预览也行）
  - 支持“保存草稿（本地 state）→恢复”
  - 准备风格选择 UI（小红书风/旅行日志，先不接生成）
- 验收标准：
  - 用户能在页面里编辑 Markdown 并看到预览
  - 风格切换会改变“模板占位文案”（哪怕是本地 mock）

#### Day 6：服务端接口雏形（为 Week 5 的 LLM 接入打基础）
- 做什么：
  - 写 1 个 Next.js Route Handler（先做健康检查/echo）
  - 梳理环境变量（`.env.local`）与前后端边界（哪些变量只能在服务端）
  - 约定 API 返回结构（统一 `traceId`、`ok`、`error` 结构）
- 验收标准：
  - 前端能调用你的 `/api/health` 并展示结果
  - API 错误能在前端展示（不是默默失败）

#### Day 7：周复盘（把“学到的”变成“能讲的”）
- 做什么：
  - 写一页“Week 1 周报”（放在 README 或你自己的笔记里都行）
  - 记录：做了什么、卡点是什么、如何解决、下周风险
  - 补 2 个小优化（任何提升体验/可用性的点）
- 验收标准：
  - 你能用 2 分钟讲清楚：项目现在能演示什么、下一周要补什么
  - 代码能运行、页面不崩、基本交互顺滑

---

### H5. 每周复盘模板（建议你每周都写）

- 本周完成了什么（可演示的功能）：
- 本周最难的 1-2 个问题：
- 我做了哪些工程取舍（为什么）：
- 指标/事实（哪怕是粗略）：耗时/失败率/页面性能/调用次数
- 下周计划与风险：

